(self.webpackChunk=self.webpackChunk||[]).push([[773],{16:(e,t,n)=>{"use strict";const o={data:function(){return{route:null}},props:{title:String,message:String,confirmText:String,cancelText:String},mounted:function(){var e=this;this.$root.$on("confirm-delete",(function(t){e.route=t.route,e.showConfirmationDialog()}))},methods:{showConfirmationDialog:function(){var e=this;this.$buefy.dialog.confirm({title:this.title,message:this.message,confirmText:this.confirmText,cancelText:this.cancelText,type:"is-danger",hasIcon:!0,onConfirm:function(){return e.deleteItem()}})},deleteItem:function(){this.$refs.deleteForm.submit()}}};var i=n(900);const r=(0,i.Z)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("form",{ref:"deleteForm",staticClass:"is-hidden",attrs:{action:this.route,method:"post"}},[e._t("default")],2)}),[],!1,null,null,null).exports;const s={mounted:function(){this.$root.$on("auth:logout",(function(){document.getElementById("logoutForm").submit()}))}};const a=(0,i.Z)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"is-invisible"},[e._t("default")],2)}),[],!1,null,null,null).exports,l={render:function(){return null},data:function(){return{message:null,type:null,duration:null}},props:{queue:{type:Boolean,default:!1},position:{type:String,default:"is-bottom"}},methods:{notify:function(){this.$buefy.toast.open({message:this.message,type:this.type,duration:this.duration,queue:this.queue,position:this.position})},setDefaultParams:function(){this.message=null,this.type=null,this.duration=null}},mounted:function(){var e=this;this.$root.$on("notify:simple",(function(t){e.setDefaultParams(),e.message=t,e.notify()})),this.$root.$on("notify:success",(function(t){e.setDefaultParams(),e.message=t,e.type="is-success",e.notify()})),this.$root.$on("notify:warning",(function(t){e.setDefaultParams(),e.message=t,e.type="is-warning",e.notify()})),this.$root.$on("notify:danger",(function(t){e.setDefaultParams(),e.message=t,e.duration=5e3,e.type="is-danger",e.notify()}))}};const u=(0,i.Z)(l,undefined,undefined,!1,null,null,null).exports;function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const f={mixins:[{methods:{commarize:function(e,t){if(e>=(t=t||1e3)){var n=Math.floor(Math.log(e)/Math.log(1e3)),o=["k","M","B","T"][n-1];return Number((e/Math.pow(1e3,n)).toFixed(2))+o}return e.toLocaleString()}}}],name:"DeveloperTeamIndex",data:function(){return{developers:[],loading:!0,mobileCards:!1}},props:{route:String},mounted:function(){var e=this;this.get(),this.$root.$on(["developer-team:stored","developer-team:deleted","developer-team:refresh"],(function(){return e.get()}))},methods:{get:function(){var e=this;this.loading=!0,axios.get(this.route).then((function(t){e.developers=[];var n,o=c(t.data.data);try{for(o.s();!(n=o.n()).done;){var i=n.value;e.developers.push({id:i.id,level:i.level,name:i.name,email:i.email,sprints_count:e.humanize(i.sprints_count),sp_assigned:e.humanize(i.sp_assigned),sp_consumed:e.humanize(i.sp_consumed),velocity:e.humanize(i.velocity),compliance:e.compliance(i.compliance)})}}catch(e){o.e(e)}finally{o.f()}})).finally((function(){e.loading=!1}))},humanize:function(e){return e?this.commarize(parseInt(e)):"-"},compliance:function(e){return e?e.toString()+"%":"-"}}};const m=(0,i.Z)(f,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-table",{attrs:{data:e.developers,loading:e.loading,"mobile-cards":e.mobileCards}},[e._t("default")],2)}),[],!1,null,null,null).exports;var p=n(486);const h={name:"DeveloperTeamForm",data:function(){return{developers:[],errors:null,selected:null,name:"",isFetching:!1}},props:{team:{type:Number,required:!0},label:{type:String,required:!0},saveText:{type:String,required:!0},cancelText:{type:String,required:!0}},methods:{save:function(){var e=this;axios.post("/api/developer-teams",{developer:this.selected.id,team:this.team}).then((function(){return e.close()})).catch((function(t){e.errors=t.data.errors}))},close:function(){this.$emit("close"),this.$root.$emit("developer-team:stored")},notify:function(e){this.$buefy.toast.open({message:e,type:"is-success"})},getAsyncDevelopers:(0,p.debounce)((function(e){var t=this;e.length<3?this.developers=[]:(this.isFetching=!0,axios.get("/api/developers?query=".concat(e)).then((function(e){t.developers=e.data.data})).catch((function(e){throw t.data=[],e})).finally((function(){return t.isFetching=!1})))}),500)}};const g=(0,i.Z)(h,(function(){var e=this,t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"box"},[o("div",{staticClass:"block"},[o("b-field",{attrs:{label:t.label,type:this.errors?"is-danger":"",message:this.errors?this.errors.developer[0]:""}},[o("b-autocomplete",{attrs:{icon:"magnify",field:"name",loading:t.isFetching,data:t.developers,clearable:"",expanded:""},on:{typing:t.getAsyncDevelopers,select:function(t){return e.selected=t}},scopedSlots:t._u([{key:"empty",fn:function(){return[t._v("No results for "+t._s(t.name))]},proxy:!0},{key:"default",fn:function(e){return[o("p",[t._v(t._s(e.option.name)),o("br"),o("small",[t._v(t._s(e.option.email))])])]}}]),model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),o("div",{staticClass:"block has-text-right"},[o("b-button",{attrs:{label:t.cancelText,"icon-left":"close"},on:{click:function(e){return t.$emit("close")}}}),t._v(" "),o("b-button",{attrs:{label:t.saveText,disabled:null===this.selected,"icon-left":"content-save",type:"is-primary"},on:{click:t.save}})],1)])}),[],!1,null,null,null).exports,v={name:"DeveloperTeamCreate",render:function(){return null},components:{DeveloperTeamForm:g},props:{team:{type:Number,required:!0},label:{type:String,required:!0},saveText:{type:String,required:!0},cancelText:{type:String,required:!0}},methods:{showModal:function(){this.$buefy.modal.open({parent:this,component:g,canCancel:["escape","outside"],props:{team:this.team,label:this.label,saveText:this.saveText,cancelText:this.cancelText},fullScreen:!1,width:"400px"})}},mounted:function(){var e=this;this.$root.$on("developer-team:create",(function(){return e.showModal()}))}};const y=(0,i.Z)(v,undefined,undefined,!1,null,null,null).exports;const b={data:function(){return{isLoading:!1,isFullPage:!0,canCancel:!0}},mounted:function(){var e=this;this.$root.$on("loading",(function(t){e.isLoading=!0,e.isFullPage=t.isFullPage,e.canCancel=t.canCancel}))}};const x=(0,i.Z)(b,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-loading",{attrs:{"is-full-page":e.isFullPage,"can-cancel":e.canCancel},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}})}),[],!1,null,null,null).exports,$={render:function(){return null},props:{message:String,type:{type:String,default:null}},methods:{notify:function(){this.$root.$emit("notify:".concat(this.type),this.message)}},mounted:function(){this.notify()}};const w=(0,i.Z)($,undefined,undefined,!1,null,null,null).exports,C={name:"DeveloperTeamDelete",render:function(){return null},data:function(){return{developer:null}},props:{team:{type:Number,required:!0}},mounted:function(){var e=this;this.$root.$on("developer-team:delete",(function(t){e.developer=t,e.showConfirmationDialog()}))},methods:{showConfirmationDialog:function(){var e=this;this.$buefy.dialog.confirm({title:"Detach developer",message:"Are you sure?",type:"is-danger",hasIcon:!0,onConfirm:function(){return e.deleteItem()}})},deleteItem:function(){var e=this;axios.delete("/api/developer-teams/".concat(this.developer)).then((function(){return e.$root.$emit("developer-team:deleted")}))}}};const _=(0,i.Z)(C,undefined,undefined,!1,null,null,null).exports;n(147),n(206);var T=new Vue({el:"#app",components:{DeleteComponent:r,LogoutComponent:a,NotificationComponent:u,NotifyComponent:w,LoadingComponent:x,DeveloperTeamIndex:m,DeveloperTeamCreate:y,DeveloperTeamDelete:_}});window.axios.interceptors.response.use((function(e){return e.data.message&&T.$emit("notify:success",e.data.message),e}),(function(e){var t,n=null!==(t=e.response.data.message)&&void 0!==t?t:"An error occurred while processing your request";return T.$emit("notify:danger",n),Promise.reject(e.response)}))},147:(e,t,n)=>{window._=n(486),window.axios=n(669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.withCredentials=!0,window.Vue=n(538).Z},206:(e,t,n)=>{"use strict";n.r(t);var o=n(579);Vue.use(o.ZP)},67:()=>{}},e=>{"use strict";var t=t=>e(e.s=t);e.O(0,[170,898],(()=>(t(16),t(67))));e.O()}]);